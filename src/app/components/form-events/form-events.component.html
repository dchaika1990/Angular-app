<!--<div class="container">-->
  <!--<input-->
    <!--type="text"-->
    <!--class="form-control mt-5"-->
    <!--(keyup)="formEvent($event)"-->
  <!--&gt;-->
  <!--<p class="mt-2">{{ text }}</p>-->
<!--</div>-->

<!--______________________________________-->

<!--<div class="container">-->
  <!--<form novalidate class="mt-5" #form="ngForm" (ngSubmit)="onSubmit(form)">-->
    <!--<div class="form-group">-->
      <!--<label>Name</label>-->
      <!--<input-->
        <!--type="text"-->
        <!--class="form-control"-->
        <!--[(ngModel)]="userName"-->
        <!--name="userName"-->
        <!--#nameValue="ngModel"-->
        <!--minlength="4"-->
        <!--required-->
      <!--&gt;-->
    <!--</div>-->
    <!--<div-->
      <!--class="alert alert-danger"-->
      <!--*ngIf="nameValue.errors?.required && nameValue.touched"-->
    <!--&gt;Name required</div>-->
    <!--<div-->
      <!--class="alert alert-danger"-->
      <!--*ngIf="nameValue.errors?.minlength && nameValue.touched"-->
    <!--&gt;Не менее 4 символов</div>-->
    <!--<button [disabled]="form.invalid" type="submit" class="btn btn-success">Save</button>-->

  <!--</form>-->
<!--</div>-->
<!--<table class="table mt-5" *ngIf="users.length">-->
  <!--<tr *ngFor="let user of users, let i = index">-->
    <!--<td>{{ i + 1 }}</td>-->
    <!--<td>{{ user }}</td>-->
    <!--<td><button (click)="removeUser(i)" class="btn btn-danger">Delete</button></td>-->
    <!--<td><button  class="btn btn-primary">Edit</button></td>-->
  <!--</tr>-->
<!--</table>-->

<!--______________________________________-->

<div class="container">
  <form class="mt-5" #form="ngForm" novalidate (ngSubmit)="onSubmit(form)">
    <div class="form-group">
      <label>Name</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="user.name"
        name="name"
        #nameValue="ngModel"
        required
      >
      <div class="alert alert-danger mt-2"
           *ngIf="nameValue.errors?.required && nameValue.touched"
      >
        Name must be not empty
      </div>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="user.email"
        name="email"
        #emailValue="ngModel"
        email
        required
      >
      <div class="alert alert-danger mt-2"
           *ngIf="emailValue.errors?.required && emailValue.touched"
      >
        Email must be not empty
      </div>
      <div class="alert alert-danger mt-2"
           *ngIf="!emailValue.errors?.required && emailValue.invalid"
      >
        Email example: example@example.com
      </div>
    </div>

    <button [disabled]="form.invalid" type="submit" class="btn btn-success">Save</button>
  </form>

  <table class="table mt-5" *ngIf="users.length">
    <tr *ngFor="let user of users; let i = index">
      <td>{{ i + 1 }}</td>
      <td><input
        type="text"
        class="form-control"
        [(ngModel)]="user.name"
        name="name"
        #nameValue="ngModel"
        *ngIf="user.editting"
      >
        <span *ngIf="!user.editting">{{ user.name }}</span>
      </td>
      <td><input
        type="text"
        class="form-control"
        [(ngModel)]="user.email"
        name="email"
        #emailValue="ngModel"
        *ngIf="user.editting"
      >
        <span *ngIf="!user.editting">{{ user.email }}</span>
      </td>
      <td><button class="btn btn-danger" (click)="removeUser(i)">Delete</button></td>
      <td><button class="btn btn-primary" (click)="editUser(i, $event)">Edit</button></td>
    </tr>
  </table>
</div>
